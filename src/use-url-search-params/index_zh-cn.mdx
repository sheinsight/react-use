# useUrlSearchParams

import { HooksType } from '@/components'

<HooksType category="Browser" />

一个 React 钩子（Hook），用于管理 URL 的搜索参数。

`useUrlSearchParams` 有三种模式：

- **history**：如 `/path/to/page?a=1&b=2`
- **hash**：如 `/path/to/page#heading?a=1&b=2` （在 hash 中包含 `?`）
- **hash-params**：如 `/path/to/page#/a=1&b=2` （在 hash 中不包含 `?`）

## 演示 Demo \{#demo}

import { App } from './demo'

<App />

## 用法 Usage \{#usage}

import { RawCode } from '@/components'
import source from '!!raw-loader!./demo'

<RawCode>{source}</RawCode>

## 源码 Source \{#source}

import { Source } from '@/components'

<Source />

## API

```tsx
const [usp, setUsp, clearUsp] = useUrlSearchParams(mode, options)
```

### 模式 Mode \{#mode}

```tsx
export type UseUrlSearchParamsMode = 'history' | 'hash' | 'hash-params'
```

### 选项 Options \{#options}

```tsx
export interface UseUrlSearchParamsOptions<T> {
  /**
   * 从 URLSearchParams 中移除空值
   *
   * @defaultValue true
   */
  removeNullishValues?: boolean
  /**
   * 从 URLSearchParams 中移除假值
   *
   * @defaultValue false
   */
  removeFalsyValues?: boolean
  /**
   * URLSearchParams 的初始值
   *
   * @defaultValue {}
   */
  initialValue?: T & Record<any, any>
  /**
   * 自动写回 `window.history`
   *
   * @defaultValue true
   */
  write?: boolean
}
```

### 返回值 Returns \{#returns}

```tsx
export type UseUrlSearchParamsReturns<T extends Record<string, any>> = [T, UseSetStateSetMergedState<T>, Noop]
```
