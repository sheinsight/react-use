---
category: Utilities
features: ['Pausable']
---

# useCountdown

import { HooksType } from '@/components'

<HooksType {...frontmatter} />

提供一个倒计时器的 React Hook。

## 演示 \{#demo}

import { App } from './demo'

<App />

## 用法 \{#usage}

请查看 API。

## 源码 \{#source}

import { Source } from '@/components'

<Source />

## API

```tsx
const ms = useCountdown(dateLike)
const countdown = useCountdown(dateLike, options) // 带有手动控制
```

### 目标日期 DateLike \{#date-like}

```tsx
type DateLike = string | number | Date | undefined
```

### 选项 Options \{#options}

```tsx
export type UseCountdownOptions<Controls extends boolean = false> = {
  /**
   * 是否立即开始倒计时
   *
   * @defaultValue true
   */
  immediate?: boolean
  /**
   * 是否暴露控制器
   *
   * @defaultValue false
   */
  controls?: Controls
  /**
   * 更新倒计时间隔
   *
   * @defaultValue 'requestAnimationFrame'
   */
  interval?: 'requestAnimationFrame' | number
  /**
   * 当倒计时更新时调用的回调函数
   */
  onUpdate?: (ms: number, seconds: number) => void
  /**
   * 当停止倒计时时调用的回调函数
   */
  onStop?(): void
}
```

### 返回值 \{#returns}

返回值中包含可暂停、恢复的 [Pausable](/docs/features/pausable) 实例。

更多详情，请参见 [Pausable](/docs/features/pausable)。

```tsx
export type UseCountdownReturns<Controls extends boolean> = Controls extends true ? { ms: number } & Pausable : number
```
